# Деплой

Для деплоя в проекте предоставлены 2 файла

- deploy.sh
- nginx.conf

---

## deploy.sh

Данный скрипт служит для автоматизации процесса развертывания и обновления веб-приложения на сервере с использованием веб-сервера Nginx. Скрипт включает в себя последовательность команд для сборки приложения, удаления старой версии, перемещения новой версии и перезапуска Nginx. Он помогает облегчить процесс обновления и деплоя, упрощая задачи администрирования веб-приложения.

1. `cd ~/ulbitv-frontend`: Переход в директорию проекта UlbiTV Frontend.

2. `npm run build:prod`: Выполнение сценария сборки проекта в режиме production, где происходит оптимизация и компиляция кода для готовности к развертыванию.

3. `rm -rf ~/../var/www/ulbitv-frontend/html`: Удаление рекурсивно и без подтверждения (`-rf`) директории `html` из директории `/var/www/ulbitv-frontend`, что очищает место под новую версию приложения.

4. `mv ~/ulbitv-frontend/dist ~/../var/www/ulbitv-frontend/html`: Перемещение содержимого директории `dist` (предполагается, что это результат сборки) из директории `~/ulbitv-frontend` в директорию `/var/www/ulbitv-frontend/html`, где будет размещено приложение.

---

## nginx.conf

Предоставленная конфигурация Nginx отражает настройки сервера, позволяющие обслуживать веб-приложение. Она включает в себя следующие ключевые аспекты:

- **HTTPS:** Была настроена поддержка HTTPS с помощью сертификатов Let's Encrypt. Это обеспечивает защищенное соединение между клиентами и сервером, что особенно важно для передачи конфиденциальных данных.

- **Сжатие файлов:** Для улучшения производительности и сокращения времени загрузки страниц конфигурация включает сжатие файлов, таких как CSS, JavaScript и HTML. Это уменьшает объем передаваемых данных и ускоряет загрузку страниц пользователями.

- **Перенаправление HTTP на HTTPS:** Все HTTP-запросы автоматически перенаправляются на их безопасные HTTPS-версии. Это помогает обеспечить безопасность передачи данных между клиентами и сервером.

- **Настройки проксирования для API:** Конфигурация содержит блок для обработки запросов к API. Запросы с путем, начинающимся с /api/, проксируются на указанный IP и порт. Это может быть полезно, если API работает на отдельном сервере или порту.
